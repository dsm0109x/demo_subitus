{% load staticfiles %}
<!doctype html>
<html lang="es-mx">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Libs CSS -->
    <link rel="stylesheet" href="{% static 'assets/fonts/Feather/feather.css' %}">
    <link rel="stylesheet" href="{% static 'assets/libs/@fancyapps/fancybox/dist/jquery.fancybox.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/libs/aos/dist/aos.css' %}">
    <link rel="stylesheet" href="{% static 'assets/libs/choices.js/public/assets/styles/choices.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/libs/flickity-fade/flickity-fade.css' %}">
    <link rel="stylesheet" href="{% static 'assets/libs/flickity/dist/flickity.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/libs/highlightjs/styles/vs2015.css' %}">
    <link rel="stylesheet" href="{% static 'assets/libs/jarallax/dist/jarallax.css' %}">
    <link rel="stylesheet" href="{% static 'assets/libs/quill/dist/quill.core.css' %}" />

    <!-- Map -->
    <link href='https://api.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css' rel='stylesheet' />

    <!-- Theme CSS -->
    <link rel="stylesheet" href="{% static 'assets/css/theme.min.css' %}">

    <title>demo</title>

  </head>
  <body class="bg-light">

    <!-- CONTENT
    ================================================== -->
    <section class="pt-6 pt-md-8 pb-8 mb-md-8">
      <div class="container">
        <div class="row">
          <div class="col-12">
            
            <div class="row mb-6 mb-md-8">

              <div class="col">
                
                <!-- Heading -->
                <h2 class="font-weight-bold mb-0">
                  Tablero
                </h2>

                <!-- Text -->
                <p class="font-size-lg text-gray-700 mb-0">
                  Top 10 de usuarios.
                </p>

              </div>
            </div> <!-- / .row -->



            
            <!-- Categories -->
            <div class="row">
                {% for usuario in usuarios %}
              <div class="col-12">
                
                <!-- Card -->
                <div class="card card-border border-black  shadow-lg mb-4 lift lift-lg"
                {% if forloop.counter == 1 %}style="border-top-width: 3px; border-color: #e9c46a!important"{% endif %}
                     {% if forloop.counter == 2 %}style="border-top-width: 3px; border-color: #adb5bd!important"{% endif %}
                {% if forloop.counter == 3 %}style="border-top-width: 3px; border-color: #b07d62!important"{% endif %}
                >
                  <div class="card-body text-left" style="padding-top: 20px !important; padding-bottom: 0px !important;">

                      <div class="row">
                          <div class="col-2">
                              <!-- Icon -->
                    <div class="icon-circle bg-dark text-white mb-0" {% if forloop.counter < 4 %}style="font-size: 2em; font-weight: bold;" {% else %}style="font-size: 1.3em;"{% endif %}>
                      {{ forloop.counter }}
                    </div>
                          </div>
              <div class="col-10">


                    <!-- Heading -->
                    <h4 class="font-weight-bold">
                      {{ usuario.username }}
                    </h4>

                    <!-- Text -->
                    <p class="text-gray-700 mb-5">
                      {{ usuario.score }}
                    </p>


              </div>
                      </div>



                    
                  </div>

                </div>



              </div>
                {% endfor %}

            </div> <!-- / .row -->

          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>



    <!-- JAVASCRIPT
    ================================================== -->
    <!-- Libs JS -->
    <script src="{% static 'assets/libs/jquery/dist/jquery.min.js' %}"></script>
    <script src="{% static 'assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'assets/libs/@fancyapps/fancybox/dist/jquery.fancybox.min.js' %}"></script>
    <script src="{% static 'assets/libs/aos/dist/aos.js' %}"></script>
    <script src="{% static 'assets/libs/choices.js/public/assets/scripts/choices.min.js' %}"></script>
    <script src="{% static 'assets/libs/countup.js/dist/countUp.min.js' %}"></script>
    <script src="{% static 'assets/libs/dropzone/dist/min/dropzone.min.js' %}"></script>
    <script src="{% static 'assets/libs/flickity/dist/flickity.pkgd.min.js' %}"></script>
    <script src="{% static 'assets/libs/flickity-fade/flickity-fade.js' %}"></script>
    <script src="{% static 'assets/libs/highlightjs/highlight.pack.min.js' %}"></script>
    <script src="{% static 'assets/libs/imagesloaded/imagesloaded.pkgd.min.js' %}"></script>
    <script src="{% static 'assets/libs/isotope-layout/dist/isotope.pkgd.min.js' %}"></script>
    <script src="{% static 'assets/libs/jarallax/dist/jarallax.min.js' %}"></script>
    <script src="{% static 'assets/libs/jarallax/dist/jarallax-video.min.js' %}"></script>
    <script src="{% static 'assets/libs/jarallax/dist/jarallax-element.min.js' %}"></script>
    <script src="{% static 'assets/libs/quill/dist/quill.min.js' %}"></script>
    <script src="{% static 'assets/libs/smooth-scroll/dist/smooth-scroll.min.js' %}"></script>
    <script src="{% static 'assets/libs/typed.js/lib/typed.min.js' %}"></script>

    <!-- Map -->
    <script src='https://api.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>

    <!-- Theme JS -->
    <script src="{% static 'assets/js/theme.min.js' %}"></script>
  <script>
      var lastUser = {{ last_user }};
        setInterval(function (){
            $.ajax({

    url : 'http://localhost:8080/api/last-user/',
    type : 'GET',
    success : function(data) {
        if(data.last_user !== lastUser){
            location.reload()
        }
    },
    error : function(request,error)
    {
    }
});
        }, 500);
  </script>

      
  </body>
</html>